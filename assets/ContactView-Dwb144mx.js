import{_ as N,L as S,a as w,b as t,d as l,t as y,w as s,r as o,o as B,e as m,p as V,f as k}from"./index-_xWReBu9.js";import{B as T}from"./BreadCrumb-O5_Vi-rn.js";import{T as D}from"./TablePaginated-D-PO2dcn.js";const z={components:{BreadCrumb:T,ListBar:S,TablePaginated:D},data(){return{dialog:!1,search:{region:"",sales:"",customerName:""},customers:[{job_title1:"承辦",gender1:"男",name1:"John",mobile1:"1234567890",mail1:"north@111111.com",notes1:"IT"},{job_title1:"承辦",gender1:"男",name1:"John",mobile1:"1234567890",mail1:"north@111111.com",notes1:"IT"}],form:{customerName:"",responsibleBusiness:"",virtualAccount:"",region:"",industryType:"",estimatedFuelAmount:"",companyPhone:"",faxNumber:"",taxId:"",companyTitle:"",frontPassword:"",contractStartDate:"",contractEndDate:"",notificationMethod:"",lowWaterValue:"",registrationAddress:"",contactAddress:"",paymentMethod:"",deposit:"",contractRemarks:""},currentPage:1,pageSize:10}},computed:{BreadCrumbItems(){return this.$route.matched.map(a=>({label:a.meta.BreadCrumb||"",path:a.path}))},filteredData(){return this.customers.filter(e=>(this.search.region===""||e.region===this.search.region)&&(this.search.sales===""||e.salesPerson===this.search.sales)&&(this.search.customerName===""||e.customerName.includes(this.search.customerName)))},paginatedData(){const e=(this.currentPage-1)*this.pageSize,a=e+this.pageSize;return this.filteredData.slice(e,a)},startItem(){return(this.currentPage-1)*this.pageSize+1},endItem(){return Math.min(this.currentPage*this.pageSize,this.filteredData.length)}},methods:{handleReset(){this.search={region:"",sales:"",customerName:""}},handlePageChange(e){this.currentPage=e},savePass(){this.dialog=!1},editItem(e){console.log("Edit item:",e),this.$router.push({path:"UpdateView",query:{rowType:"2",customerName:e.customerName}})},deleteItem(e){console.log("Delete item:",e)}}},x=e=>(V("data-v-8a731825"),e=e(),k(),e),A={class:"page-title"},L=x(()=>l("div",{class:"page-title"},[l("h5",null,[m("客戶代號:"),l("h4",null,"G2200696"),m("客戶名稱:"),l("h4",null,"客戶一")])],-1)),E={class:"table-container"},M={class:"action-icons"},j=["onClick"],U=["onClick"],J={class:"dialog-footer"};function R(e,a,q,F,n,c){const u=o("ListBar"),p=o("BreadCrumb"),d=o("el-button"),i=o("el-table-column"),h=o("el-table"),_=o("TablePaginated"),g=o("el-input"),f=o("el-form-item"),b=o("el-col"),P=o("el-row"),C=o("el-form"),v=o("el-dialog");return B(),w("div",null,[t(u),l("div",A,[l("h2",null,y(e.pageTitle),1)]),l("div",null,[t(p,{isSpecialPage:!0})]),t(d,{type:"primary",onClick:a[0]||(a[0]=r=>e.dialogVisible=!0)},{default:s(()=>[m("新增聯絡人")]),_:1}),L,l("div",E,[t(h,{data:c.paginatedData,style:{width:"100%"}},{default:s(()=>[t(i,{prop:"job_title1",label:"職稱"}),t(i,{prop:"gender1",label:"性別"}),t(i,{prop:"name1",label:"姓名"}),t(i,{prop:"mobile1",label:"手機/電話"}),t(i,{prop:"mail1",label:"E-MAIL"}),t(i,{prop:"notes1",label:"備註"}),t(i,{label:"操作"},{default:s(r=>[l("div",M,[l("i",{class:"fas fa-edit",onClick:I=>c.editItem(r.row)},null,8,j),l("i",{class:"fa-solid fa-trash-can",onClick:I=>c.deleteItem(r.row)},null,8,U)])]),_:1})]),_:1},8,["data"]),t(_,{data:n.customers,filters:n.search,currentPage:n.currentPage,pageSize:n.pageSize,onPageChange:c.handlePageChange},null,8,["data","filters","currentPage","pageSize","onPageChange"]),t(v,{title:"新增客戶",modelValue:n.dialog,"onUpdate:modelValue":a[3]||(a[3]=r=>n.dialog=r),width:"80%"},{default:s(()=>[t(C,{model:n.form},{footer:s(()=>[l("div",J,[t(d,{onClick:a[2]||(a[2]=r=>n.dialog=!1)},{default:s(()=>[m("取消")]),_:1}),t(d,{type:"primary",onClick:c.savePass},{default:s(()=>[m("送出")]),_:1},8,["onClick"])])]),default:s(()=>[t(P,null,{default:s(()=>[t(b,{span:8},{default:s(()=>[t(f,{label:"客戶名稱"},{default:s(()=>[t(g,{modelValue:n.form.customerName,"onUpdate:modelValue":a[1]||(a[1]=r=>n.form.customerName=r),class:"small-input"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])])])}const K=N(z,[["render",R],["__scopeId","data-v-8a731825"]]);export{K as default};
