import{_ as y,L as N,b as B,d as e,e as s,f as u,w as n,g as m,r as l,o as S}from"./index-D6ztYVmn.js";import{B as V}from"./BreadCrumb-BubxZQie.js";import{T as I}from"./TablePaginated-BVC68D63.js";const k={components:{BreadCrumb:V,ListBar:N,TablePaginated:I},data(){return{dialog:!1,search:{region:"",sales:"",customerName:""},rowData:[],customers:[{job_title1:"承辦",gender1:"男",name1:"John",mobile1:"1234567890",mail1:"north@111111.com",notes1:"IT"},{job_title1:"承辦",gender1:"男",name1:"John",mobile1:"1234567890",mail1:"north@111111.com",notes1:"IT"}],form:{customerName:"",responsibleBusiness:"",virtualAccount:"",region:"",industryType:"",estimatedFuelAmount:"",companyPhone:"",faxNumber:"",taxId:"",companyTitle:"",frontPassword:"",contractStartDate:"",contractEndDate:"",notificationMethod:"",lowWaterValue:"",registrationAddress:"",contactAddress:"",paymentMethod:"",deposit:"",contractRemarks:""},currentPage:1,pageSize:10}},created(){this.rowData=JSON.parse(this.$route.query.rowData)},computed:{BreadCrumbItems(){return this.$route.matched.map(a=>({label:a.meta.BreadCrumb||"",path:a.path}))},filteredData(){return this.customers.filter(t=>(this.search.region===""||t.region===this.search.region)&&(this.search.sales===""||t.salesPerson===this.search.sales)&&(this.search.customerName===""||t.customerName.includes(this.search.customerName)))},paginatedData(){const t=(this.currentPage-1)*this.pageSize,a=t+this.pageSize;return this.filteredData.slice(t,a)},startItem(){return(this.currentPage-1)*this.pageSize+1},endItem(){return Math.min(this.currentPage*this.pageSize,this.filteredData.length)}},methods:{handleReset(){this.search={region:"",sales:"",customerName:""}},handlePageChange(t){this.currentPage=t},savePass(){this.dialog=!1},editItem(t){console.log("Edit item:",t),this.$router.push({path:"UpdateView",query:{rowType:"2",cus_code:this.rowData.cus_code,cus_name:this.rowData.cus_name,rowData:JSON.stringify(t)}})},deleteItem(t){console.log("Delete item:",t)}}},T={class:"page-title"},z={class:"page-title"},x={class:"table-container"},A={class:"action-icons"},L=["onClick"],E=["onClick"],J={class:"dialog-footer"};function M(t,a,j,U,o,c){const p=l("ListBar"),_=l("BreadCrumb"),d=l("el-button"),i=l("el-table-column"),h=l("el-table"),g=l("TablePaginated"),f=l("el-input"),b=l("el-form-item"),P=l("el-col"),w=l("el-row"),C=l("el-form"),D=l("el-dialog");return S(),B("div",null,[e(p),s("div",T,[s("h2",null,u(t.pageTitle),1)]),s("div",null,[e(_,{isSpecialPage:!0})]),e(d,{type:"primary",onClick:a[0]||(a[0]=r=>t.dialogVisible=!0)},{default:n(()=>[m("新增聯絡人")]),_:1}),s("div",z,[s("h5",null,[m("客戶代號:"),s("h4",null,u(o.rowData.cus_code),1),m("客戶名稱:"),s("h4",null,u(o.rowData.cus_name),1)])]),s("div",x,[e(h,{data:c.paginatedData,style:{width:"100%"}},{default:n(()=>[e(i,{prop:"job_title1",label:"職稱"}),e(i,{prop:"gender1",label:"性別"}),e(i,{prop:"name1",label:"姓名"}),e(i,{prop:"mobile1",label:"手機/電話"}),e(i,{prop:"mail1",label:"E-MAIL"}),e(i,{prop:"notes1",label:"備註"}),e(i,{label:"操作"},{default:n(r=>[s("div",A,[s("i",{class:"fas fa-edit",onClick:v=>c.editItem(r.row)},null,8,L),s("i",{class:"fa-solid fa-trash-can",onClick:v=>c.deleteItem(r.row)},null,8,E)])]),_:1})]),_:1},8,["data"]),e(g,{data:o.customers,filters:o.search,currentPage:o.currentPage,pageSize:o.pageSize,onPageChange:c.handlePageChange},null,8,["data","filters","currentPage","pageSize","onPageChange"]),e(D,{title:"新增客戶",modelValue:o.dialog,"onUpdate:modelValue":a[3]||(a[3]=r=>o.dialog=r),width:"80%"},{default:n(()=>[e(C,{model:o.form},{footer:n(()=>[s("div",J,[e(d,{onClick:a[2]||(a[2]=r=>o.dialog=!1)},{default:n(()=>[m("取消")]),_:1}),e(d,{type:"primary",onClick:c.savePass},{default:n(()=>[m("送出")]),_:1},8,["onClick"])])]),default:n(()=>[e(w,null,{default:n(()=>[e(P,{span:8},{default:n(()=>[e(b,{label:"客戶名稱"},{default:n(()=>[e(f,{modelValue:o.form.customerName,"onUpdate:modelValue":a[1]||(a[1]=r=>o.form.customerName=r),class:"small-input"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])])])}const F=y(k,[["render",M],["__scopeId","data-v-8b4331ef"]]);export{F as default};
