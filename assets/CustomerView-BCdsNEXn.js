import{_ as M,L as N,t as U,a as S,b as I,d as e,e as f,f as v,w as a,r as s,o as P,g as d}from"./index-D6ztYVmn.js";import{B}from"./BreadCrumb-BubxZQie.js";import{T as z}from"./TablePaginated-BVC68D63.js";const T={components:{BreadCrumb:B,ListBar:N,TablePaginated:z},data(){return{dialog:!1,search:{customerName:""},customers:[],industryMap:{1:"食品飲料",6:"營建土木工程",9:"大眾運輸",11:"物流倉儲",12:"礦業土石",13:"資訊科技",19:"綜合工商"},regionMap:{1:"北、北、基、宜",2:"中、彰、投",3:"桃、竹、苗",4:"雲、嘉、南",5:"高、屏、澎",6:"花、東"},form:{customerName:"",responsibleBusiness:"",virtualAccount:"",region:"",industryType:"",estimatedFuelAmount:"",companyPhone:"",faxNumber:"",taxId:"",companyTitle:"",frontPassword:"",contractStartDate:"",contractEndDate:"",notificationMethod:"",lowWaterValue:"",registrationAddress:"",contactAddress:"",paymentMethod:"",deposit:"",contractRemarks:""},currentPage:1,pageSize:10}},created(){this.getselectData()},computed:{BreadCrumbItems(){return this.$route.matched.map(l=>({label:l.meta.BreadCrumb||"",path:l.path}))},currentPageData(){const u=(this.currentPage-1)*this.pageSize,l=u+this.pageSize;return this.customers.slice(u,l)},startItem(){const u=(this.currentPage-1)*this.pageSize+1;return Math.min(u,this.customers.length)},endItem(){const u=this.currentPage*this.pageSize;return Math.min(u,this.customers.length)}},methods:{handlePageChange(u){this.currentPage=u},formatIndustry(u){const l=U(u);return this.industryMap[l.industry.toString()]||"未知"},formatRegion(u){const l=U(u);return this.regionMap[l.region.toString()]||"未知"},async getselectData(){try{const l=(await S.get("http://122.116.23.30:3345/main/selectCustomer")).data.data;this.customers=l}catch(u){console.error("Error fetching customer data:",u)}},savePass(){this.dialog=!1},viewDetails(u){console.log("View details for:",u),this.$router.push({path:"SelectView",query:{rowType:"1",customerName:u.customerName,rowData:JSON.stringify(u)}})},editItem(u){console.log("Edit item:",u),this.$router.push({path:"UpdateView",query:{rowType:"1",customerName:u.customerName,rowData:JSON.stringify(u)}})},deleteItem(u){console.log("Delete item:",u)},onContact(u){console.log("View details for:",u),this.$router.push({path:"contact",query:{rowData:JSON.stringify(u)}})},onBill(u){console.log("View details for:",u),this.$router.push({path:"bill",query:{rowData:JSON.stringify(u)}})},onDiscount(u){console.log("View details for:",u),this.$router.push({path:"discount",query:{rowData:JSON.stringify(u)}})}}},q={class:"page-title"},J={class:"action-icons"},O=["onClick"],R=["onClick"],A=["onClick"],E={class:"pagination-container"},L={class:"pagination-info"},j={class:"dialog-footer"};function F(u,l,W,G,o,i){const h=s("ListBar"),x=s("BreadCrumb"),m=s("el-input"),n=s("el-form-item"),_=s("el-button"),w=s("el-form"),p=s("el-table-column"),C=s("el-table"),D=s("el-pagination"),r=s("el-option"),V=s("el-select"),y=s("el-date-picker"),g=s("el-row"),b=s("el-checkbox"),Y=s("el-checkbox-group"),k=s("el-dialog");return P(),I("div",null,[e(h),f("div",q,[f("h2",null,v(u.pageTitle),1)]),f("div",null,[e(x,{isSpecialPage:!0})]),f("div",null,[e(w,{inline:!0,model:o.search,class:"demo-form-inline"},{default:a(()=>[e(n,{label:"客戶名稱/客戶代號/統編"},{default:a(()=>[e(m,{modelValue:o.search.customerName,"onUpdate:modelValue":l[0]||(l[0]=t=>o.search.customerName=t),placeholder:"輸入客戶名稱/客戶代號/統編/",style:{width:"225px"}},null,8,["modelValue"])]),_:1}),e(n,null,{default:a(()=>[e(_,{type:"primary",onClick:u.handleReset},{default:a(()=>[d("重置")]),_:1},8,["onClick"])]),_:1}),e(n,null,{default:a(()=>[e(_,{type:"success",onClick:l[1]||(l[1]=t=>o.dialog=!0)},{default:a(()=>[d("新增客戶")]),_:1})]),_:1})]),_:1},8,["model"]),e(C,{data:i.currentPageData,style:{width:"100%"}},{default:a(()=>[e(p,{prop:"cus_code",label:"客戶代號",width:"100"}),e(p,{prop:"cus_name",label:"客戶名稱",width:"250"}),e(p,{prop:"vat_number",label:"統編",width:"150"}),e(p,{prop:"region",label:"區域",formatter:i.formatRegion,width:"150"},null,8,["formatter"]),e(p,{prop:"industry",label:"產業類別",formatter:i.formatIndustry,width:"150"},null,8,["formatter"]),e(p,{prop:"est_fuel_volume",label:"預估月加油量",width:"150"}),e(p,{prop:"phone",label:"公司電話",width:"150"}),e(p,{label:"操作"},{default:a(t=>[f("div",J,[f("i",{class:"fas fa-eye",onClick:c=>i.viewDetails(t.row)},null,8,O),f("i",{class:"fas fa-edit",onClick:c=>i.editItem(t.row)},null,8,R),f("i",{class:"fa-solid fa-trash-can",onClick:c=>i.deleteItem(t.row)},null,8,A),e(_,{type:"primary",onClick:c=>i.onContact(t.row)},{default:a(()=>[d("聯絡人")]),_:2},1032,["onClick"]),e(_,{type:"success",onClick:c=>i.onBill(t.row)},{default:a(()=>[d("帳單")]),_:2},1032,["onClick"]),e(_,{type:"danger",onClick:c=>i.onDiscount(t.row)},{default:a(()=>[d("折讓")]),_:2},1032,["onClick"])])]),_:1})]),_:1},8,["data"]),f("div",E,[f("div",L," Showing "+v(i.startItem)+" to "+v(i.endItem)+" of "+v(o.customers.length),1),e(D,{onCurrentChange:i.handlePageChange,"current-page":o.currentPage,"page-size":o.pageSize,total:o.customers.length,layout:"prev, pager, next, jumper",class:"pagination"},null,8,["onCurrentChange","current-page","page-size","total"])]),e(k,{title:"新增客戶",modelValue:o.dialog,"onUpdate:modelValue":l[39]||(l[39]=t=>o.dialog=t),width:"80%"},{footer:a(()=>[f("div",j,[e(_,{onClick:l[38]||(l[38]=t=>o.dialog=!1)},{default:a(()=>[d("取消")]),_:1}),e(_,{type:"primary",onClick:i.savePass},{default:a(()=>[d("送出")]),_:1},8,["onClick"])])]),default:a(()=>[e(w,{model:o.form,"label-width":"155px"},{default:a(()=>[e(g,{style:{"margin-bottom":"20px"}},{default:a(()=>[e(n,{label:"客戶代號"},{default:a(()=>[e(m,{modelValue:o.form.cus_code,"onUpdate:modelValue":l[2]||(l[2]=t=>o.form.cus_code=t)},null,8,["modelValue"])]),_:1}),e(n,{label:"客戶名稱"},{default:a(()=>[e(m,{modelValue:o.form.cus_name,"onUpdate:modelValue":l[3]||(l[3]=t=>o.form.cus_name=t)},null,8,["modelValue"])]),_:1}),e(n,{label:"負責業務"},{default:a(()=>[e(V,{modelValue:o.form.salesmanId,"onUpdate:modelValue":l[4]||(l[4]=t=>o.form.salesmanId=t),placeholder:"選擇業務"},{default:a(()=>[e(r,{label:"李柏青",value:1}),e(r,{label:"陳先生",value:2}),e(r,{label:"林先生",value:3})]),_:1},8,["modelValue"])]),_:1}),e(n,{label:"虛擬帳號"},{default:a(()=>[e(m,{modelValue:o.form.virtual_account,"onUpdate:modelValue":l[5]||(l[5]=t=>o.form.virtual_account=t)},null,8,["modelValue"])]),_:1}),e(n,{label:"區域"},{default:a(()=>[e(V,{modelValue:o.form.region,"onUpdate:modelValue":l[6]||(l[6]=t=>o.form.region=t),placeholder:"選擇區域"},{default:a(()=>[e(r,{label:"1.北、北、基、宜",value:1}),e(r,{label:"2.中、彰、投",value:2}),e(r,{label:"3.桃、竹、苗",value:3}),e(r,{label:"4.雲、嘉、南",value:4}),e(r,{label:"5.高、屏、澎",value:5}),e(r,{label:"6.花、東",value:6})]),_:1},8,["modelValue"])]),_:1}),e(n,{label:"產業類別"},{default:a(()=>[e(V,{modelValue:o.form.industry,"onUpdate:modelValue":l[7]||(l[7]=t=>o.form.industry=t),placeholder:"選擇產業類別"},{default:a(()=>[e(r,{label:"食品飲料",value:1}),e(r,{label:"營建土木工程",value:6}),e(r,{label:"大眾運輸",value:9}),e(r,{label:"物流倉儲",value:11}),e(r,{label:"礦業土石",value:12}),e(r,{label:"資訊科技",value:13}),e(r,{label:"綜合工商",value:19})]),_:1},8,["modelValue"])]),_:1}),e(n,{label:"預估月加油量"},{default:a(()=>[e(m,{modelValue:o.form.est_fuel_volume,"onUpdate:modelValue":l[8]||(l[8]=t=>o.form.est_fuel_volume=t)},null,8,["modelValue"])]),_:1}),e(n,{label:"公司電話"},{default:a(()=>[e(m,{modelValue:o.form.phone,"onUpdate:modelValue":l[9]||(l[9]=t=>o.form.phone=t)},null,8,["modelValue"])]),_:1}),e(n,{label:"傳真號碼"},{default:a(()=>[e(m,{modelValue:o.form.fax,"onUpdate:modelValue":l[10]||(l[10]=t=>o.form.fax=t)},null,8,["modelValue"])]),_:1}),e(n,{label:"交易模式"},{default:a(()=>[e(V,{modelValue:o.form.transaction_mode,"onUpdate:modelValue":l[11]||(l[11]=t=>o.form.transaction_mode=t),placeholder:"選擇交易模式"},{default:a(()=>[e(r,{label:"儲值",value:1}),e(r,{label:"月結",value:2})]),_:1},8,["modelValue"])]),_:1}),e(n,{label:"押金"},{default:a(()=>[e(m,{modelValue:o.form.deposit,"onUpdate:modelValue":l[12]||(l[12]=t=>o.form.deposit=t)},null,8,["modelValue"])]),_:1}),e(n,{label:"前台密碼(@)"},{default:a(()=>[e(m,{modelValue:o.form.front_pwd,"onUpdate:modelValue":l[13]||(l[13]=t=>o.form.front_pwd=t)},null,8,["modelValue"])]),_:1}),e(n,{label:"合約日期(起)"},{default:a(()=>[e(y,{modelValue:o.form.contract_start,"onUpdate:modelValue":l[14]||(l[14]=t=>o.form.contract_start=t),type:"date",format:"YYYY-MM-DD","value-format":"YYYY-MM-DD",placeholder:"選擇日期",style:{width:"300px"}},null,8,["modelValue"])]),_:1}),e(n,{label:"停油寬限額度"},{default:a(()=>[e(m,{modelValue:o.form.fuel_grace_limit,"onUpdate:modelValue":l[15]||(l[15]=t=>o.form.fuel_grace_limit=t)},null,8,["modelValue"])]),_:1}),e(n,{label:"公司統編"},{default:a(()=>[e(m,{modelValue:o.form.vat_number,"onUpdate:modelValue":l[16]||(l[16]=t=>o.form.vat_number=t)},null,8,["modelValue"])]),_:1}),e(n,{label:"合約日期(迄)"},{default:a(()=>[e(y,{modelValue:o.form.contract_end,"onUpdate:modelValue":l[17]||(l[17]=t=>o.form.contract_end=t),type:"date",format:"YYYY-MM-DD","value-format":"YYYY-MM-DD",placeholder:"選擇日期",style:{width:"300px"}},null,8,["modelValue"])]),_:1}),e(n,{label:"低水位通知"},{default:a(()=>[e(m,{modelValue:o.form.low_balance_notice,"onUpdate:modelValue":l[18]||(l[18]=t=>o.form.low_balance_notice=t)},null,8,["modelValue"])]),_:1}),e(n,{label:"公司抬頭"},{default:a(()=>[e(m,{modelValue:o.form.company_title,"onUpdate:modelValue":l[19]||(l[19]=t=>o.form.company_title=t)},null,8,["modelValue"])]),_:1}),e(n,{label:"簽呈日期"},{default:a(()=>[e(y,{modelValue:o.form.submission_date,"onUpdate:modelValue":l[20]||(l[20]=t=>o.form.submission_date=t),type:"date",format:"YYYY-MM-DD","value-format":"YYYY-MM-DD",placeholder:"選擇日期",style:{width:"300px"}},null,8,["modelValue"])]),_:1}),e(n,{label:"匯款日期"},{default:a(()=>[e(y,{modelValue:o.form.remittance_date,"onUpdate:modelValue":l[21]||(l[21]=t=>o.form.remittance_date=t),type:"date",format:"YYYY-MM-DD","value-format":"YYYY-MM-DD",placeholder:"選擇日期",style:{width:"300px"}},null,8,["modelValue"])]),_:1}),e(n,{label:"油價簡訊電話"},{default:a(()=>[e(m,{modelValue:o.form.fuel_sms_phone,"onUpdate:modelValue":l[22]||(l[22]=t=>o.form.fuel_sms_phone=t)},null,8,["modelValue"])]),_:1}),e(n,{label:"油價簡訊選項"},{default:a(()=>[e(V,{modelValue:o.form.fuel_sms_option,"onUpdate:modelValue":l[23]||(l[23]=t=>o.form.fuel_sms_option=t),placeholder:"選擇交易模式"},{default:a(()=>[e(r,{label:"Y",value:u.Y},null,8,["value"]),e(r,{label:"N",value:u.N},null,8,["value"])]),_:1},8,["modelValue"])]),_:1}),e(n,{label:"餘額不足訊息電話"},{default:a(()=>[e(m,{modelValue:o.form.balance_sms_phone,"onUpdate:modelValue":l[24]||(l[24]=t=>o.form.balance_sms_phone=t)},null,8,["modelValue"])]),_:1}),e(n,{label:"合約狀態"},{default:a(()=>[e(V,{modelValue:o.form.contract_status,"onUpdate:modelValue":l[25]||(l[25]=t=>o.form.contract_status=t),placeholder:"選擇合約狀態"},{default:a(()=>[e(r,{label:"啟用",value:1}),e(r,{label:"暫停",value:2}),e(r,{label:"終止",value:3})]),_:1},8,["modelValue"])]),_:1}),e(n,{label:"營登地址"},{default:a(()=>[e(m,{modelValue:o.form.reg_address,"onUpdate:modelValue":l[26]||(l[26]=t=>o.form.reg_address=t)},null,8,["modelValue"])]),_:1}),e(n,{label:"通訊地址"},{default:a(()=>[e(m,{modelValue:o.form.mail_address,"onUpdate:modelValue":l[27]||(l[27]=t=>o.form.mail_address=t)},null,8,["modelValue"])]),_:1})]),_:1}),e(g,{style:{"margin-bottom":"20px"}},{default:a(()=>[e(n,{label:"製卡費用"},{default:a(()=>[e(m,{modelValue:o.form.card_fee,"onUpdate:modelValue":l[28]||(l[28]=t=>o.form.card_fee=t)},null,8,["modelValue"])]),_:1}),e(n,{label:"再製卡費用"},{default:a(()=>[e(m,{modelValue:o.form.reissue_fee,"onUpdate:modelValue":l[29]||(l[29]=t=>o.form.reissue_fee=t)},null,8,["modelValue"])]),_:1}),e(n,{label:"製卡費備註",style:{width:"1000px"}},{default:a(()=>[e(m,{modelValue:o.form.card_fee_notes,"onUpdate:modelValue":l[30]||(l[30]=t=>o.form.card_fee_notes=t),type:"textarea"},null,8,["modelValue"])]),_:1})]),_:1}),e(g,{style:{"margin-bottom":"20px"}},{default:a(()=>[e(n,{label:"對帳單及發票注意事項",style:{width:"1000px"}},{default:a(()=>[e(m,{modelValue:o.form.invoice_notes,"onUpdate:modelValue":l[31]||(l[31]=t=>o.form.invoice_notes=t),type:"textarea"},null,8,["modelValue"])]),_:1}),e(n,{label:"預付及合約注意事項",style:{width:"1000px"}},{default:a(()=>[e(m,{modelValue:o.form.con_notes,"onUpdate:modelValue":l[32]||(l[32]=t=>o.form.con_notes=t),type:"textarea"},null,8,["modelValue"])]),_:1}),e(n,{label:"合約備註",style:{width:"1000px"}},{default:a(()=>[e(m,{modelValue:o.form.contract_notes,"onUpdate:modelValue":l[33]||(l[33]=t=>o.form.contract_notes=t),type:"textarea"},null,8,["modelValue"])]),_:1})]),_:1}),e(g,{style:{"margin-bottom":"20px"}},{default:a(()=>[e(n,{label:"簽約業務"},{default:a(()=>[e(V,{modelValue:o.form.contract_sales,"onUpdate:modelValue":l[34]||(l[34]=t=>o.form.contract_sales=t),placeholder:"選擇業務"},{default:a(()=>[e(r,{label:"李柏青",value:1}),e(r,{label:"陳先生",value:2}),e(r,{label:"林先生",value:3})]),_:1},8,["modelValue"])]),_:1}),e(n,{label:"業務備註",class:"large-textbox"},{default:a(()=>[e(m,{modelValue:o.form.sales_notes,"onUpdate:modelValue":l[35]||(l[35]=t=>o.form.sales_notes=t),type:"textarea"},null,8,["modelValue"])]),_:1})]),_:1}),e(g,{style:{"margin-bottom":"20px"}},{default:a(()=>[e(n,{label:"設定方式"},{default:a(()=>[e(Y,{modelValue:o.form.config_method,"onUpdate:modelValue":l[36]||(l[36]=t=>o.form.config_method=t)},{default:a(()=>[e(b,{label:1},{default:a(()=>[d("銀行定存")]),_:1}),e(b,{label:2},{default:a(()=>[d("現金")]),_:1}),e(b,{label:3},{default:a(()=>[d("支票")]),_:1}),e(b,{label:4},{default:a(()=>[d("商業本票")]),_:1}),e(b,{label:5},{default:a(()=>[d("銀行保證")]),_:1}),e(b,{label:6},{default:a(()=>[d("無擔保")]),_:1}),e(b,{label:7},{default:a(()=>[d("其他")]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(n,{label:"設定方式備註",class:"large-textbox"},{default:a(()=>[e(m,{modelValue:o.form.config_notes,"onUpdate:modelValue":l[37]||(l[37]=t=>o.form.config_notes=t),type:"textarea"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])])])}const X=M(T,[["render",F],["__scopeId","data-v-06fae37b"]]);export{X as default};
