import{_ as T,L as I,a as h,b as e,d as i,t as x,w as a,r as n,o as m,F as C,e as P,c as V,f as p}from"./index-CYAkYwdq.js";import{B as z}from"./BreadCrumb-Dnj3TL7W.js";import{T as A}from"./TablePaginated-R9pAQJxC.js";const F={components:{BreadCrumb:z,ListBar:I,TablePaginated:A},data(){return{dialog:!1,search:{region:"",sales:"",customerName:""},regions:[{value:"north",label:"北部"},{value:"south",label:"南部"}],salesPeople:[{value:"john",label:"John"},{value:"jane",label:"Jane"}],customers:[{customerCode:"C001",customerName:"客戶一",salesPerson:"John",virtualAccount:"1234567890",region:"north",industry:"IT",estimatedFuel:"1000L",phone:"123-456-7890",fax:"123-456-7891"},{customerCode:"C002",customerName:"客戶二",salesPerson:"Jane",virtualAccount:"2345678901",region:"south",industry:"Finance",estimatedFuel:"2000L",phone:"123-456-7892",fax:"123-456-7893"}],form:{customerName:"",responsibleBusiness:"",virtualAccount:"",region:"",industryType:"",estimatedFuelAmount:"",companyPhone:"",faxNumber:"",taxId:"",companyTitle:"",frontPassword:"",contractStartDate:"",contractEndDate:"",notificationMethod:"",lowWaterValue:"",registrationAddress:"",contactAddress:"",paymentMethod:"",deposit:"",contractRemarks:""},currentPage:1,pageSize:10}},computed:{BreadCrumbItems(){return this.$route.matched.map(s=>({label:s.meta.BreadCrumb||"",path:s.path}))},filteredData(){return this.customers.filter(o=>(this.search.region===""||o.region===this.search.region)&&(this.search.sales===""||o.salesPerson===this.search.sales)&&(this.search.customerName===""||o.customerName.includes(this.search.customerName)))},paginatedData(){const o=(this.currentPage-1)*this.pageSize,s=o+this.pageSize;return this.filteredData.slice(o,s)},startItem(){return(this.currentPage-1)*this.pageSize+1},endItem(){return Math.min(this.currentPage*this.pageSize,this.filteredData.length)}},methods:{handleReset(){this.search={region:"",sales:"",customerName:""}},handlePageChange(o){this.currentPage=o},savePass(){this.dialog=!1},viewDetails(o){console.log("View details for:",o),this.$router.push({path:"SelectView",query:{rowType:"2",customerName:o.customerName}})},editItem(o){console.log("Edit item:",o),this.$router.push({path:"UpdateView",query:{rowType:"2",customerName:o.customerName}})},deleteItem(o){console.log("Delete item:",o)}}},L={class:"page-title"},U={class:"action-icons"},J=["onClick"],E=["onClick"],M=["onClick"],R={class:"dialog-footer"};function j(o,s,q,W,t,u){const y=n("ListBar"),N=n("BreadCrumb"),_=n("el-option"),f=n("el-select"),c=n("el-form-item"),g=n("el-input"),d=n("el-button"),b=n("el-form"),r=n("el-table-column"),k=n("el-table"),w=n("TablePaginated"),B=n("el-col"),S=n("el-row"),D=n("el-dialog");return m(),h("div",null,[e(y),i("div",L,[i("h2",null,x(o.pageTitle),1)]),i("div",null,[e(N,{isSpecialPage:!0})]),i("div",null,[e(b,{inline:!0,model:t.search,class:"demo-form-inline"},{default:a(()=>[e(c,{label:"區域"},{default:a(()=>[e(f,{modelValue:t.search.region,"onUpdate:modelValue":s[0]||(s[0]=l=>t.search.region=l),placeholder:"選擇區域",class:"custom-select"},{default:a(()=>[(m(!0),h(C,null,P(t.regions,l=>(m(),V(_,{key:l.value,label:l.label,value:l.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),e(c,{label:"負責業務"},{default:a(()=>[e(f,{modelValue:t.search.sales,"onUpdate:modelValue":s[1]||(s[1]=l=>t.search.sales=l),placeholder:"選擇業務",class:"custom-select"},{default:a(()=>[(m(!0),h(C,null,P(t.salesPeople,l=>(m(),V(_,{key:l.value,label:l.label,value:l.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),e(c,{label:"客戶名稱"},{default:a(()=>[e(g,{modelValue:t.search.customerName,"onUpdate:modelValue":s[2]||(s[2]=l=>t.search.customerName=l),placeholder:"輸入客戶名稱",icon:"search"},null,8,["modelValue"])]),_:1}),e(c,null,{default:a(()=>[e(d,{type:"primary",onClick:u.handleReset},{default:a(()=>[p("重置")]),_:1},8,["onClick"])]),_:1}),e(c,null,{default:a(()=>[e(d,{type:"success",onClick:s[3]||(s[3]=l=>t.dialog=!0)},{default:a(()=>[p("新增客戶")]),_:1})]),_:1})]),_:1},8,["model"]),e(k,{data:u.paginatedData,style:{width:"100%"}},{default:a(()=>[e(r,{prop:"customerCode",label:"客戶代號"}),e(r,{prop:"customerName",label:"客戶名稱"}),e(r,{prop:"salesPerson",label:"負責業務"}),e(r,{prop:"virtualAccount",label:"虛擬帳號"}),e(r,{prop:"region",label:"區域"}),e(r,{prop:"industry",label:"產業類別"}),e(r,{prop:"estimatedFuel",label:"預估加油量"}),e(r,{prop:"phone",label:"公司電話"}),e(r,{prop:"fax",label:"傳真號碼"}),e(r,{label:"操作"},{default:a(l=>[i("div",U,[i("i",{class:"fas fa-eye",onClick:v=>u.viewDetails(l.row)},null,8,J),i("i",{class:"fas fa-edit",onClick:v=>u.editItem(l.row)},null,8,E),i("i",{class:"fa-solid fa-trash-can",onClick:v=>u.deleteItem(l.row)},null,8,M)])]),_:1})]),_:1},8,["data"]),e(w,{data:t.customers,filters:t.search,currentPage:t.currentPage,pageSize:t.pageSize,onPageChange:u.handlePageChange},null,8,["data","filters","currentPage","pageSize","onPageChange"]),e(D,{title:"新增客戶",modelValue:t.dialog,"onUpdate:modelValue":s[6]||(s[6]=l=>t.dialog=l),width:"80%"},{default:a(()=>[e(b,{model:t.form},{footer:a(()=>[i("div",R,[e(d,{onClick:s[5]||(s[5]=l=>t.dialog=!1)},{default:a(()=>[p("取消")]),_:1}),e(d,{type:"primary",onClick:u.savePass},{default:a(()=>[p("送出")]),_:1},8,["onClick"])])]),default:a(()=>[e(S,null,{default:a(()=>[e(B,{span:8},{default:a(()=>[e(c,{label:"客戶名稱"},{default:a(()=>[e(g,{modelValue:t.form.customerName,"onUpdate:modelValue":s[4]||(s[4]=l=>t.form.customerName=l),class:"small-input"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])])])}const O=T(F,[["render",j],["__scopeId","data-v-d7e9ed70"]]);export{O as default};
